<table *ngIf="resultDTO && kpis" class="table">
    <thead>
        <tr>
            <th scope="col"></th>
            <th scope="col" class="text-end">Results</th>
            <th scope="col" class="text-end">Plan</th>
            <th scope="col" class="text-end">Delta</th>
        </tr>
    </thead>
    <tbody *ngFor="let report of kpis.data.proFormas">
        <tr class="heading">
            <td>{{ report.name }}</td>
            <td class="text-end"></td>
            <td class="text-end"></td>
            <td class="text-end"></td>
        </tr>
        <tr *ngFor="let lineItem of report.lineItems" class="{{ lineItem.class }}">
            <td><span [innerHTML]="lineItem.operator"></span> {{ lineItem.data?.name }}</td>
            <td class="text-end">{{ lineItem.data?.actual | number: "1.0-0" }}</td>
            <td class="text-end">{{ lineItem.data?.plan | number: "1.0-0" }}</td>
            <td class="text-end">{{ lineItem.data?.delta | number: "1.0-0" }}</td>
        </tr>
    </tbody>
    <tbody>
        <tr class="heading">
            <td>Priority tensors</td>
            <td class="text-end"></td>
            <td class="text-end"></td>
            <td class="text-end"></td>
        </tr>
        <tr *ngFor="let agent of [].constructor(agentCount); index as alpha">
            <td>{{ alpha + 1 }}</td>
            <td class="matrix">
                <div><arion-matrix [matrix]="kpis.data.priorityTensor.actual[alpha]"></arion-matrix></div>
            </td>
            <td class="matrix">
                <div><arion-matrix [matrix]="kpis.data.priorityTensor.plan[alpha]"></arion-matrix></div>
            </td>
            <td class="matrix">
                <div><arion-matrix [matrix]="kpis.data.priorityTensor.delta[alpha]"></arion-matrix></div>
            </td>
        </tr>
    </tbody>
</table>
